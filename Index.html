
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Child Gender Probability Predictor</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 20px; }
    h1 { text-align: center; }
    .gen-box { background: #fff; padding: 15px; margin-bottom: 15px; border-radius: 10px; }
    label { display: block; margin-top: 10px; }
    input { width: 100px; padding: 5px; margin-top: 5px; }
    button { padding: 10px 20px; background: #007bff; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #0056b3; }
    #result { background: #e8f0ff; padding: 20px; border-radius: 10px; margin-top: 20px; font-size: 18px; text-align: center; }
    .optional-note { font-size: 14px; color: #777; }
  </style>
</head>
<body>

  <h1>ðŸ‘¶ Child Gender Probability Predictor (Up to 5 Generations)</h1>

  <!-- GEN 1 -->
  <div class="gen-box">
    <h2>Generation 1: Parents (Required)</h2>

    <h3>Father's Side</h3>
    <label>Father's Brothers (including father himself): <input type="number" id="gen1_father_brothers" min="0"></label>
    <label>Father's Sisters: <input type="number" id="gen1_father_sisters" min="0"></label>

    <h3>Mother's Side</h3>
    <label>Mother's Brothers: <input type="number" id="gen1_mother_brothers" min="0"></label>
    <label>Mother's Sisters (including mother herself): <input type="number" id="gen1_mother_sisters" min="0"></label>
  </div>

  <!-- GEN 2 -->
  <div class="gen-box">
    <h2>Generation 2: Grandparents (Required)</h2>

    <h3>Maternal Side</h3>
    <label>Maternal Grandfather's Brothers (including himself): <input type="number" id="gen2_mat_gf_bro" min="0"></label>
    <label>Maternal Grandfather's Sisters: <input type="number" id="gen2_mat_gf_sis" min="0"></label>
    <label>Maternal Grandmother's Brothers: <input type="number" id="gen2_mat_gm_bro" min="0"></label>
    <label>Maternal Grandmother's Sisters (including herself): <input type="number" id="gen2_mat_gm_sis" min="0"></label>

    <h3>Paternal Side</h3>
    <label>Paternal Grandfather's Brothers (including himself): <input type="number" id="gen2_pat_gf_bro" min="0"></label>
    <label>Paternal Grandfather's Sisters: <input type="number" id="gen2_pat_gf_sis" min="0"></label>
    <label>Paternal Grandmother's Brothers: <input type="number" id="gen2_pat_gm_bro" min="0"></label>
    <label>Paternal Grandmother's Sisters (including herself): <input type="number" id="gen2_pat_gm_sis" min="0"></label>
  </div>

  <!-- GEN 3 to 5: Optional -->
  <script>
    const body = document.body;
    for (let g = 3; g <= 5; g++) {
      const div = document.createElement('div');
      div.className = 'gen-box';
      div.innerHTML = `
        <h2>Generation ${g}: ${g === 3 ? 'Great Grandparents' : g === 4 ? 'Great-Great Grandparents' : 'Great-Great-Great Grandparents'} (Optional)</h2>
        <span class="optional-note">Leave blank if unknown or not needed.</span>

        <h3>Maternal Side</h3>
        <label>Maternal Grandfather's Brothers (including himself): <input type="number" id="gen${g}_mat_gf_bro" min="0"></label>
        <label>Maternal Grandfather's Sisters: <input type="number" id="gen${g}_mat_gf_sis" min="0"></label>
        <label>Maternal Grandmother's Brothers: <input type="number" id="gen${g}_mat_gm_bro" min="0"></label>
        <label>Maternal Grandmother's Sisters (including herself): <input type="number" id="gen${g}_mat_gm_sis" min="0"></label>

        <h3>Paternal Side</h3>
        <label>Paternal Grandfather's Brothers (including himself): <input type="number" id="gen${g}_pat_gf_bro" min="0"></label>
        <label>Paternal Grandfather's Sisters: <input type="number" id="gen${g}_pat_gf_sis" min="0"></label>
        <label>Paternal Grandmother's Brothers: <input type="number" id="gen${g}_pat_gm_bro" min="0"></label>
        <label>Paternal Grandmother's Sisters (including herself): <input type="number" id="gen${g}_pat_gm_sis" min="0"></label>
      `;
      body.insertBefore(div, document.querySelector('button'));
    }
  </script>

  <button onclick="calculateProbability()">Calculate Probability</button>

  <div id="result"></div>

  <script>
    function getValue(id) {
      return parseInt(document.getElementById(id).value) || 0;
    }

    function calculateProbability() {
      let male = 0;
      let female = 0;

      // Gen 1: Parents
      male += getValue('gen1_father_brothers') + getValue('gen1_mother_brothers');
      female += getValue('gen1_father_sisters') + getValue('gen1_mother_sisters');

      // Gen 2: Grandparents
      const gen2_ids = [
        'gen2_mat_gf', 'gen2_mat_gm',
        'gen2_pat_gf', 'gen2_pat_gm'
      ];
      gen2_ids.forEach(id => {
        male += getValue(`${id}_bro`);
        female += getValue(`${id}_sis`);
      });

      // Gen 3â€“5: Optional
      for (let g = 3; g <= 5; g++) {
        const ids = [
          `gen${g}_mat_gf`, `gen${g}_mat_gm`,
          `gen${g}_pat_gf`, `gen${g}_pat_gm`
        ];
        ids.forEach(id => {
          male += getValue(`${id}_bro`);
          female += getValue(`${id}_sis`);
        });
      }

      const total = male + female;
      if (total === 0) {
        document.getElementById('result').innerHTML = `<strong>Please enter at least parent or grandparent values.</strong>`;
        return;
      }

      // Laplace smoothing
      const pMale = (male + 1) / (total + 2);
      const pFemale = (female + 1) / (total + 2);

      document.getElementById('result').innerHTML = `
        <strong>Predicted Probability:</strong><br>
        ðŸ‘¦ Boy: ${(pMale * 100).toFixed(2)}%<br>
        ðŸ‘§ Girl: ${(pFemale * 100).toFixed(2)}%
      `;
    }
  </script>

</body>
</html>
